<div class="admin-dashboard">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <h2>💄 Cosmetics Admin</h2>
      <p>Management Panel</p>
    </div>
    
    <nav class="sidebar-nav">
      <div class="nav-item active" routerLink="/admin">
        <span class="nav-icon">📊</span>
        <span class="nav-text">Dashboard</span>
      </div>
      <div class="nav-item" routerLink="/admin/add-product">
        <span class="nav-icon">➕</span>
        <span class="nav-text">Add Product</span>
      </div>
      <div class="nav-item" routerLink="/admin/products">
        <span class="nav-icon">🛍️</span>
        <span class="nav-text">Manage Products</span>
      </div>
      <div class="nav-item" routerLink="/admin/reviews">
        <span class="nav-icon">⭐</span>
        <span class="nav-text">Manage Reviews</span>
      </div>
    </nav>

    <div class="sidebar-stats">
      <div class="stat-item">
        <span class="stat-number">{{productsCount}}</span>
        <span class="stat-label">Total Products</span>
      </div>
      <div class="stat-item">
        <span class="stat-number">{{reviewsCount}}</span>
        <span class="stat-label">Total Reviews</span>
      </div>
      <div class="stat-item">
        <span class="stat-number">{{pendingReviewsCount}}</span>
        <span class="stat-label">Pending Reviews</span>
      </div>
    </div>

    <button class="logout-btn" (click)="logout()">
      <span class="nav-icon">🚪</span>
      <span class="nav-text">Logout</span>
    </button>
  </aside>

  <!-- Main Content -->
  <main class="main-content">
    <header class="content-header">
      <div class="header-title">
        <h1>Dashboard Analytics</h1>
        <p>Visual insights into your cosmetics store performance</p>
      </div>
      <div class="header-actions">
        <div class="user-welcome">
          <span>Hello, Admin! 👋</span>
        </div>
      </div>
    </header>

    <!-- Stats Grid -->
    <div class="stats-grid">
      <div class="stat-card products">
        <div class="stat-icon">🛍️</div>
        <div class="stat-info">
          <h3>Total Products</h3>
          <span class="stat-number">{{productsCount}}</span>
          <span class="stat-change">Across all categories</span>
        </div>
      </div>

      <div class="stat-card reviews">
        <div class="stat-icon">⭐</div>
        <div class="stat-info">
          <h3>Customer Reviews</h3>
          <span class="stat-number">{{reviewsCount}}</span>
          <span class="stat-change" *ngIf="pendingReviewsCount > 0" style="color: #ff6f91;">
            {{pendingReviewsCount}} pending
          </span>
          <span class="stat-change" *ngIf="pendingReviewsCount === 0" style="color: #48bb78;">
            All processed
          </span>
        </div>
      </div>

      <div class="stat-card rating">
        <div class="stat-icon">📈</div>
        <div class="stat-info">
          <h3>Avg Rating</h3>
          <span class="stat-number">{{averageRating.toFixed(1)}}/5</span>
          <span class="stat-change">Overall product quality</span>
        </div>
      </div>

      <div class="stat-card categories">
        <div class="stat-icon">📁</div>
        <div class="stat-info">
          <h3>Categories</h3>
          <span class="stat-number">{{categoriesCount}}</span>
          <span class="stat-change">Product variety</span>
        </div>
      </div>
    </div>

    <!-- Charts Section -->
    <div class="charts-section">
      <div class="chart-row">
        <div class="chart-card">
          <div class="chart-container">
            <canvas id="reviewDistributionChart"></canvas>
          </div>
        </div>
        
        <div class="chart-card">
          <div class="chart-container">
            <canvas id="categoryDistributionChart"></canvas>
          </div>
        </div>
      </div>

      <div class="chart-row">
        <div class="chart-card">
          <div class="chart-container">
            <canvas id="ratingDistributionChart"></canvas>
          </div>
        </div>
        
        <div class="chart-card">
          <div class="chart-container">
            <canvas id="topProductsChart"></canvas>
          </div>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="quick-actions">
      <h2>Quick Actions</h2>
      <div class="actions-grid">
        <div class="action-card" routerLink="/admin/add-product">
          <div class="action-icon">➕</div>
          <h3>Add New Product</h3>
          <p>Expand your product catalog</p>
          <div class="action-arrow">→</div>
        </div>

        <div class="action-card" routerLink="/admin/products">
          <div class="action-icon">🛍️</div>
          <h3>Manage Products</h3>
          <p>Edit or remove existing products</p>
          <div class="action-arrow">→</div>
        </div>

        <div class="action-card" routerLink="/admin/reviews">
          <div class="action-icon">⭐</div>
          <h3>Manage Reviews</h3>
          <p>Moderate customer feedback</p>
          <div class="action-arrow">→</div>
        </div>

        <div class="action-card" (click)="createCharts()">
          <div class="action-icon">🔄</div>
          <h3>Refresh Data</h3>
          <p>Update charts with latest data</p>
          <div class="action-arrow">↻</div>
        </div>
      </div>
    </div>
  </main>
</div>