<header class="sticky-top fw-bold shadow-sm background">
  <nav class="navbar navbar-expand-lg navbar-light container py-2">
    <!-- ðŸŒ¸ Logo (Left) -->
    <a class="navbar-brand fw-bold d-flex align-items-center" routerLink="/home">
      <img src="images/Logo1.png" alt="Glow Up Logo" class="logo-img me-2" />
      <span class="brand-name d-none d-md-block">Glow Up</span>
    </a>

    <!-- Mobile Toggler -->
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarMenu"
      aria-controls="navbarMenu"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Menu - Centered on desktop, full width on mobile -->
    <div class="collapse navbar-collapse justify-content-center" id="navbarMenu">
      <ul class="navbar-nav mb-2 mb-lg-0 text-center">
        <li class="nav-item">
          <a class="nav-link" routerLink="/home" routerLinkActive="active" ariaCurrentWhenActive="page">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/about" routerLinkActive="active" ariaCurrentWhenActive="page">About Us</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/products" routerLinkActive="active" ariaCurrentWhenActive="page">Products</a>
        </li>
      </ul>

      <!-- Right Icons - Visible in mobile menu -->
      <div class="d-flex align-items-center gap-3 ms-auto d-lg-none justify-content-center mt-3">
        <!-- Favorites with badge -->
        <a class="nav-link icon-btn position-relative" (click)="goToFavorites()" role="button">
          <i class="bi bi-heart"></i>
          @if (favoriteCount > 0) {
            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
              {{ favoriteCount }}
            </span>
          }
        </a>

        <!-- Cart with badge -->
        <a class="nav-link icon-btn position-relative" (click)="goToCart()" role="button">
          <i class="bi bi-cart3"></i>
          @if (cartCount > 0) {
            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
              {{ cartCount }}
            </span>
          }
        </a>

        <!-- Account Dropdown for mobile -->
        <div class="nav-item dropdown">
          <a
            class="nav-link dropdown-toggle d-flex align-items-center"
            href="#"
            id="userDropdownMobile"
            role="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            @if(isLoggedIn){
              <img
                [src]="user?.avatar"
                alt="User Avatar"
                class="rounded-circle"
                width="35"
                height="35"
              />
            } @else {
              <i class="bi bi-person-circle fs-4"></i>
            }
          </a>

          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdownMobile">
            @if(isLoggedIn){
              @if(isAdmin){
                <li><button class="dropdown-item" (click)="goToDashboard()">Dashboard</button></li>
              }
              <li><button class="dropdown-item" (click)="logout()">Logout</button></li>
            } @else {
              <li><a class="dropdown-item" routerLink="/login">Login</a></li>
              <li><a class="dropdown-item" routerLink="/register">Register</a></li>
            }
          </ul>
        </div>
      </div>
    </div>

    <!-- Right Icons - Hidden on mobile, visible on desktop -->
    <div class="d-none d-lg-flex align-items-center gap-3 ms-auto">
      <!-- Favorites with badge -->
      <a class="nav-link icon-btn position-relative" (click)="goToFavorites()" role="button">
        <i class="bi bi-heart"></i>
        @if (favoriteCount > 0) {
          <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
            {{ favoriteCount }}
          </span>
        }
      </a>

      <!-- Cart with badge -->
      <a class="nav-link icon-btn position-relative" (click)="goToCart()" role="button">
        <i class="bi bi-cart3"></i>
        @if (cartCount > 0) {
          <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
            {{ cartCount }}
          </span>
        }
      </a>

      <!-- Account Dropdown for desktop -->
      <div class="nav-item dropdown">
        <a
          class="nav-link dropdown-toggle d-flex align-items-center"
          href="#"
          id="userDropdownDesktop"
          role="button"
          data-bs-toggle="dropdown"
          aria-expanded="false"
        >
          @if(isLoggedIn){
            <img
              [src]="user?.avatar"
              alt="User Avatar"
              class="rounded-circle"
              width="35"
              height="35"
            />
          } @else {
            <i class="bi bi-person-circle fs-4"></i>
          }
        </a>

        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdownDesktop">
          @if(isLoggedIn){
            @if(isAdmin){
              <li><button class="dropdown-item" (click)="goToDashboard()">Dashboard</button></li>
            }
            <li><button class="dropdown-item" (click)="logout()">Logout</button></li>
          } @else {
            <li><a class="dropdown-item" routerLink="/login">Login</a></li>
            <li><a class="dropdown-item" routerLink="/register">Register</a></li>
          }
        </ul>
      </div>
    </div>
  </nav>
</header>
