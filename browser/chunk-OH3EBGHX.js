import{d as k}from"./chunk-XY3WWHO7.js";import{a as A,c as T,d as W,e as N,f as I,g as B,h as L,k as z,l as F,m as D,n as U,p as q}from"./chunk-PYLQ3OY2.js";import{$ as c,$a as e,Fa as S,Ja as h,_ as l,_a as _,a as M,ab as t,b as C,bb as v,bc as O,fc as E,hb as x,jb as w,kc as V,lb as y,sa as P,tb as i,ua as a,xb as s,yb as m,za as b,zb as u}from"./chunk-5RLXOBV6.js";function H(p,g){if(p&1&&(e(0,"div",30),v(1,"img",31),t()),p&2){let r=y();a(),_("src",r.product.image,P)}}function j(p,g){if(p&1){let r=x();e(0,"div",32),w("click",function(){l(r);let d=y();return c(d.showSuccessToast=!1)}),i(1,` \u2705 Product added successfully!
`),t()}}var R=class p{constructor(g,r){this.http=g;this.router=r}product={name:"",brand:"",price:null,category:"",product_type:"",rating:0,image:"",description:"",stock:null};baseUrl="http://localhost:3001/products";showSuccessToast=!1;addProduct(){if(!this.product.name||!this.product.price||!this.product.product_type){alert("Please fill in all required fields.");return}let g=C(M({},this.product),{price:Number(this.product.price),stock:this.product.stock?Number(this.product.stock):0,rating:this.product.rating?Number(this.product.rating):0,product_type:this.product.product_type?.trim()||"",id:String(Date.now()),source:"db"});this.http.post(this.baseUrl,g).subscribe({next:()=>{this.product={name:"",brand:"",price:null,category:"any",product_type:"",rating:0,image:"",description:"",stock:null},this.showSuccessToast=!0,setTimeout(()=>{this.router.navigateByUrl("/admin/products")},2e3)},error:r=>{console.error("Error adding product:",r),alert("\u274C Failed to add product.")}})}static \u0275fac=function(r){return new(r||p)(b(V),b(k))};static \u0275cmp=S({type:p,selectors:[["app-add-product"]],decls:60,vars:8,consts:[["productForm","ngForm"],[1,"container","mt-4"],[1,"form-card"],[1,"form-title"],[1,"product-form",3,"ngSubmit"],[1,"row"],[1,"col-md-6"],[1,"form-group"],[1,"form-label"],["type","text","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","brand",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","price","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","category","required","",1,"form-select",3,"ngModelChange","ngModel"],["value",""],["value","lipstick"],["value","foundation"],["value","eyeshadow"],["value","eyeliner"],["value","lip_liner"],["value","Bronzer"],["value","eyebrow"],["value","nail_polish"],["value","blush"],["value","mascara"],["type","text","name","image",1,"form-control",3,"ngModelChange","ngModel"],["class","image-preview",4,"ngIf"],["name","description","rows","3",1,"form-control",3,"ngModelChange","ngModel"],["class","toast toast-success",3,"click",4,"ngIf"],[1,"form-actions"],["type","submit",1,"btn-submit"],[1,"image-preview"],["alt","Product preview",3,"src"],[1,"toast","toast-success",3,"click"]],template:function(r,o){if(r&1){let d=x();e(0,"div",1)(1,"div",2)(2,"h2",3),i(3,"Add New Product"),t(),e(4,"form",4,0),w("ngSubmit",function(){return l(d),c(o.addProduct())}),e(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),i(10,"Product Name*"),t(),e(11,"input",9),u("ngModelChange",function(n){return l(d),m(o.product.name,n)||(o.product.name=n),c(n)}),t()(),e(12,"div",7)(13,"label",8),i(14,"Brand"),t(),e(15,"input",10),u("ngModelChange",function(n){return l(d),m(o.product.brand,n)||(o.product.brand=n),c(n)}),t()(),e(16,"div",7)(17,"label",8),i(18,"Price ($)*"),t(),e(19,"input",11),u("ngModelChange",function(n){return l(d),m(o.product.price,n)||(o.product.price=n),c(n)}),t()(),e(20,"div",7)(21,"label",8),i(22,"Product Type*"),t(),e(23,"select",12),u("ngModelChange",function(n){return l(d),m(o.product.product_type,n)||(o.product.product_type=n),c(n)}),e(24,"option",13),i(25,"Select category"),t(),e(26,"option",14),i(27,"Lipstick"),t(),e(28,"option",15),i(29,"Foundation"),t(),e(30,"option",16),i(31,"Eyeshadow"),t(),e(32,"option",17),i(33,"eyeliner"),t(),e(34,"option",18),i(35,"Lip_Liner"),t(),e(36,"option",19),i(37,"Bronzer"),t(),e(38,"option",20),i(39,"eyebrow"),t(),e(40,"option",21),i(41,"nail_polish"),t(),e(42,"option",22),i(43,"Blush"),t(),e(44,"option",23),i(45,"Mascara"),t()()()(),e(46,"div",6)(47,"div",7)(48,"label",8),i(49,"Image URL"),t(),e(50,"input",24),u("ngModelChange",function(n){return l(d),m(o.product.image,n)||(o.product.image=n),c(n)}),t(),h(51,H,2,1,"div",25),t(),e(52,"div",7)(53,"label",8),i(54,"Description"),t(),e(55,"textarea",26),u("ngModelChange",function(n){return l(d),m(o.product.description,n)||(o.product.description=n),c(n)}),t()()()(),h(56,j,2,0,"div",27),e(57,"div",28)(58,"button",29),i(59,"Add Product"),t()()()()()}r&2&&(a(11),s("ngModel",o.product.name),a(4),s("ngModel",o.product.brand),a(4),s("ngModel",o.product.price),a(4),s("ngModel",o.product.product_type),a(27),s("ngModel",o.product.image),a(),_("ngIf",o.product.image),a(4),s("ngModel",o.product.description),a(),_("ngIf",o.showSuccessToast))},dependencies:[E,O,q,B,F,D,A,L,z,T,W,U,I,N],styles:['.container[_ngcontent-%COMP%]{max-width:800px}.form-card[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:18px;box-shadow:0 8px 30px #ffb6c133;border:1px solid rgba(255,182,193,.2);position:relative;overflow:hidden}.form-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#ffc1cc,#ffb6b9,#fad0c4)}.form-title[_ngcontent-%COMP%]{font-weight:600;color:#4a4a4a;margin-bottom:25px;text-align:center;font-family:Poppins,Segoe UI,sans-serif;position:relative;padding-bottom:15px}.form-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:80px;height:3px;background:linear-gradient(90deg,#ff6f91,#ffb6b9);border-radius:2px}.product-form[_ngcontent-%COMP%]{margin-top:10px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500;color:#4a4a4a;font-size:.95rem}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{width:100%;padding:12px 15px;border:1px solid rgba(255,182,193,.3);border-radius:8px;font-size:.95rem;transition:all .3s ease;background-color:#fff;color:#4a4a4a}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#ffb6b9;box-shadow:0 0 0 3px #ffb6c133}.form-control[_ngcontent-%COMP%]::placeholder{color:#aaa}.image-preview[_ngcontent-%COMP%]{margin-top:10px;text-align:center}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:150px;border-radius:8px;box-shadow:0 2px 8px #0000001a;border:1px solid rgba(255,182,193,.3)}.form-actions[_ngcontent-%COMP%]{margin-top:25px;text-align:center}.btn-submit[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ffc1cc,#ffb6b9,#fad0c4);color:#4a4a4a;border:none;padding:12px 30px;border-radius:8px;font-weight:500;font-size:1rem;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 15px #ffb6c14d;width:100%;max-width:250px}.btn-submit[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #ffb6c166}.btn-submit[_ngcontent-%COMP%]:active{transform:translateY(0)}.toast[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;background:var(--pink-primary);color:#fff;padding:15px 20px;border-radius:10px;box-shadow:0 4px 12px #ff69874d;font-weight:600;z-index:9999;cursor:pointer;animation:_ngcontent-%COMP%_slideIn .5s ease-out,_ngcontent-%COMP%_fadeOut .5s ease-in 2.5s forwards}.toast-success[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff6f91,#ffb6b9)}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(100%)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_fadeOut{to{opacity:0;transform:translate(100%)}}@media (max-width: 768px){.form-card[_ngcontent-%COMP%]{padding:20px}.form-title[_ngcontent-%COMP%]{font-size:1.4rem}}']})};export{R as AddProduct};
